# Values below are fine for most use cases

smarttest_schedule:
  short: weekly  # https://www.freedesktop.org/software/systemd/man/systemd.time.html
  long: monthly

smarttest_packages:
  - smartmontools

smarttest_test_types: '{{ smarttest_schedule|list }}'

smarttest_drives_enabled: '{{ smarttest_drives_all }}'

smarttest_drives_all: >-
  {{
  ansible_devices
  | dict2items
  | selectattr("value.virtual", "eq", 0)
  | selectattr("value.removable", "eq", "0")
  | map(attribute="key")
  | list
  }}
