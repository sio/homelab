#
# Set up and maintain a server for http://morebooks.ml
#
# Order of includes matters! Some tasks rely on the results of tasks from files
# included earlier.
#
---
# System wide configuration
- include_tasks: os.yml

# Set up the firewall
- include_tasks: firewall.yml

# File layout for HomeLibraryCatalog
- include_tasks: layout.yml

# Force app update from latest git if necessary
- include_tasks: deploy.yml
  when: '{{ deploy|default(False) }}'

# Idempotent deployment
- include_tasks: hlc.yml
