---
# Use Python 3 on controlled hosts by default
ansible_python_interpreter: /usr/bin/python3


# Correctly detect Debian testing
ansible_distribution_release: >- # https://github.com/ansible/ansible/issues/19874
  {{
  {
    'stable': 'buster',
    'testing': 'bullseye',
  }[ansible_debian_release] | default(ansible_debian_release)
  }}
ansible_debian_release: >-  # non-idempotent, might easily change testing<>bullseye
  {{
  ansible_facts.distribution_major_version.split("/")[0]
  if (ansible_facts.distribution_major_version.split("/")+[None])[1] in ["sid", "unstable"]
  else ansible_facts.distribution_release
  }}


# Common packages for playground machines
playground_packages:
  # Containerisation and virtualisation
  - cpu-checker
  - docker.io
  - libvirt-clients
  - libvirt-daemon-system
  - packer
  - qemu-kvm
  - qemu-utils
  - vagrant
  - vagrant-libvirt
  # Developer tools
  - git
  - make
  - cmake
  - build-essential
  # Other tools
  - aria2
  - psmisc
  - python3-venv
  - python3-yaml
  - sudo
  - sysbench
  - tmux
  - vim
